<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pterodactyl Panel Simulator</title>
<style>
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #181818;
    color: #fff;
    display: flex;
    height: 100vh;
  }

  /* Sidebar */
  .sidebar {
    width: 220px;
    background-color: #1f1f1f;
    display: flex;
    flex-direction: column;
    padding: 20px 0;
  }
  .sidebar h2 {
    color: #28a745;
    text-align: center;
    margin: 0 0 20px 0;
  }
  .server-item {
    padding: 12px 20px;
    cursor: pointer;
    border-left: 4px solid transparent;
    display: flex;
    justify-content: space-between;
  }
  .server-item.active {
    background-color: #2c2f33;
    border-left: 4px solid #28a745;
  }
  .server-item:hover {
    background-color: #2c2f33;
  }
  .server-status-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    margin-left: 5px;
    margin-top: 6px;
  }
  .server-status-dot.online { background-color: #28a745; }
  .server-status-dot.offline { background-color: #ff4d4d; }

  /* Main content */
  .main {
    flex: 1;
    display: flex;
    flex-direction: column;
  }
  header {
    background-color: #2c2f33;
    padding: 15px 20px;
    font-size: 20px;
    color: #28a745;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .stats {
    font-size: 14px;
    color: #ccc;
  }

  .controls {
    padding: 10px 20px;
    display: flex;
    gap: 10px;
  }
  button {
    padding: 8px 15px;
    border-radius: 4px;
    border: none;
    cursor: pointer;
    font-weight: bold;
    color: #fff;
  }
  button.start { background-color: #28a745; }
  button.stop { background-color: #ff4d4d; }
  button.restart { background-color: #ffc107; color: #000; }

  /* Console */
  .console-container {
    flex: 1;
    padding: 20px;
    background-color: #111;
    display: flex;
    flex-direction: column;
  }
  .console-output {
    flex: 1;
    background-color: #111;
    border: 1px solid #444;
    border-radius: 5px;
    padding: 10px;
    overflow-y: auto;
    font-family: monospace;
    white-space: pre-wrap;
  }
  .console-input {
    margin-top: 10px;
    padding: 8px;
    border-radius: 4px;
    border: 1px solid #444;
    background-color: #222;
    color: #0f0;
    font-family: monospace;
  }

  /* Log colors */
  .log-info { color: #0f0; }
  .log-warning { color: #ffc107; }
  .log-error { color: #ff4d4d; }
  .log-player { color: #00f; }
</style>
</head>
<body>

<div class="sidebar" id="sidebar">
  <h2>Servers</h2>
</div>

<div class="main">
  <header id="header">
    <span>Select a server</span>
    <span class="stats" id="serverStats"></span>
  </header>
  <div class="controls" id="controls"></div>
  <div class="console-container">
    <div class="console-output" id="consoleOutput"></div>
    <input type="text" class="console-input" id="consoleInput" placeholder="Enter command..." disabled>
  </div>
</div>

<script>
const servers = [
  { name: "Survival", status: "offline", logs: [], cpu: 0, ram: 0, disk: 0 },
  { name: "Creative", status: "offline", logs: [], cpu: 0, ram: 0, disk: 0 },
  { name: "PvP", status: "offline", logs: [], cpu: 0, ram: 0, disk: 0 }
];

let selectedServerIndex = null;
const sidebar = document.getElementById('sidebar');
const header = document.getElementById('header');
const serverStats = document.getElementById('serverStats');
const controls = document.getElementById('controls');
const consoleOutput = document.getElementById('consoleOutput');
const consoleInput = document.getElementById('consoleInput');

// Sidebar render
function renderSidebar() {
  sidebar.querySelectorAll('.server-item').forEach(el => el.remove());
  servers.forEach((server, i) => {
    const item = document.createElement('div');
    item.className = 'server-item' + (i === selectedServerIndex ? ' active' : '');
    item.onclick = () => selectServer(i);

    const nameSpan = document.createElement('span');
    nameSpan.textContent = server.name;

    const statusDot = document.createElement('div');
    statusDot.className = 'server-status-dot ' + server.status;

    item.appendChild(nameSpan);
    item.appendChild(statusDot);
    sidebar.appendChild(item);
  });
}

// Select server
function selectServer(index) {
  selectedServerIndex = index;
  updateHeader();
  renderControls();
  renderConsole();
  renderSidebar();
}

// Header update
function updateHeader() {
  const server = servers[selectedServerIndex];
  header.querySelector('span').textContent = server.name + ' - ' + server.status.toUpperCase();
  serverStats.textContent = `CPU: ${server.cpu}% | RAM: ${server.ram}MB | Disk: ${server.disk}MB`;
}

// Controls
function renderControls() {
  controls.innerHTML = '';
  if (selectedServerIndex === null) return;
  const server = servers[selectedServerIndex];

  const startBtn = document.createElement('button');
  startBtn.className = 'start'; startBtn.textContent = 'Start';
  startBtn.onclick = () => startServer(selectedServerIndex);

  const stopBtn = document.createElement('button');
  stopBtn.className = 'stop'; stopBtn.textContent = 'Stop';
  stopBtn.onclick = () => stopServer(selectedServerIndex);

  const restartBtn = document.createElement('button');
  restartBtn.className = 'restart'; restartBtn.textContent = 'Restart';
  restartBtn.onclick = () => restartServer(selectedServerIndex);

  controls.appendChild(startBtn);
  controls.appendChild(stopBtn);
  controls.appendChild(restartBtn);

  consoleInput.disabled = server.status !== 'online';
}

// Console
function renderConsole() {
  if (selectedServerIndex === null) {
    consoleOutput.textContent = '';
    consoleInput.disabled = true;
    return;
  }
  const server = servers[selectedServerIndex];
  consoleOutput.innerHTML = server.logs.map(log => `<span class="${log.type}">${log.message}</span>`).join('<br>');
  consoleOutput.scrollTop = consoleOutput.scrollHeight;
}

// Logging
function log(message, type='log-info') {
  const server = servers[selectedServerIndex];
  const timestamp = new Date().toLocaleTimeString();
  server.logs.push({message: `[${timestamp}] ${message}`, type});
  if (server.logs.length > 100) server.logs.shift();
  renderConsole();
}

// Server actions
function startServer(index) {
  const server = servers[index];
  if (server.status === 'online') return;
  server.status = 'online';
  simulateStats(index);
  selectServer(index);
  log('Server started.', 'log-info');
  simulateServerEvents(index);
}
function stopServer(index) {
  const server = servers[index];
  if (server.status === 'offline') return;
  server.status = 'offline';
  selectServer(index);
  log('Server stopped.', 'log-warning');
}
function restartServer(index) {
  const server = servers[index];
  log('Server restarting...', 'log-warning');
  server.status = 'offline';
  selectServer(index);
  setTimeout(() => {
    server.status = 'online';
    log('Server restarted successfully.', 'log-info');
    simulateStats(index);
    simulateServerEvents(index);
  }, 2000);
}

// Console commands
consoleInput.addEventListener('keydown', function(e) {
  if (e.key === 'Enter') {
    const cmd = consoleInput.value.trim();
    if (!cmd) return;
    log('> ' + cmd, 'log-player');
    simulateCommand(cmd);
    consoleInput.value = '';
  }
});

function simulateCommand(cmd) {
  const server = servers[selectedServerIndex];
  let response = '';
  if (cmd.toLowerCase() === 'help') {
    response = 'Commands: help, status, echo [text], restart';
  } else if (cmd.toLowerCase() === 'status') {
    response = `Server is ${server.status}`;
  } else if (cmd.toLowerCase().startsWith('echo ')) {
    response = cmd.slice(5);
  } else if (cmd.toLowerCase() === 'restart') {
    restartServer(selectedServerIndex);
    return;
  } else {
    response = `Unknown command: ${cmd}`;
  }
  setTimeout(() => log(response, 'log-info'), 300);
}

// Simulated server stats
function simulateStats(index) {
  const server = servers[index];
  function update() {
    if (server.status !== 'online') return;
    server.cpu = Math.floor(Math.random()*50+10);
    server.ram = Math.floor(Math.random()*800+200);
    server.disk = Math.floor(Math.random()*2000+500);
    if (selectedServerIndex === index) updateHeader();
    setTimeout(update, 3000);
  }
  update();
}

// Simulated server events
function simulateServerEvents(index) {
  const server = servers[index];
  function eventLoop() {
    if (server.status !== 'online') return;
    const events = [
      () => log('Player Steve joined the server', 'log-player'),
      () => log('Player Alex joined the server', 'log-player'),
      () => log('Warning: High memory usage', 'log-warning'),
      () => log('Player Steve left the server', 'log-player')
    ];
    const event = events[Math.floor(Math.random()*events.length)];
    setTimeout(() => { event(); eventLoop(); }, Math.random()*5000+2000);
  }
  eventLoop();
}

// Initial render
renderSidebar();
</script>

</body>
</html>
